<ion-view title="Groep" ng-controller="PinboardCtrl2">
 <ion-nav-buttons side="left">
    <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
  </ion-nav-buttons>


 <div class="bar bar-loading bar-assertive" ng-if="loadingDone">
   Er zijn geen oudere berichten beschikbaar
 </div>

 <ion-content class="pinboard-bg" delegate-handle="pinScroll">
 
 <ion-refresher
  pulling-icon="ion-ios7-arrow-up"
  refreshing-icon="ion-ios7-reloading"
    on-refresh="doRefresh()">
  </ion-refresher>

<div class="pinboard list">
  <div class="pinboard-cardcontainer card-container"
        collection-repeat="post in posts"
        collection-item-width="getDynamicWidth()"
        collection-item-height="450">
     
       <div class="pinboard-card card" >

          <!--USERINFO-->
          <img class="pinboard-avatar" ng-src="{{$root.server}}/images/users/{{post.user_pic}}">
      
          <div class="item item-avatar">
            <h2>{{post.user_firstname}} {{post.user_lastname}} {{item.item}}</h2>
            <p>{{post.post_date | timeAgo}}</p>
          </div>

          <!--TEXTPOST-->
          <div class="item pinboard-cardtext wordbreak" ng-if="post.post_type == 'text'">
              <div class="pinboard-priklreaction" ng-click="priklprev()">
                <i class="icon ion-ios7-lightbulb-outline"></i>
              </div>
              <span>{{post.post_text}}</span>
          </div>

          <!--IMAGEPOST-->
          <div class="item item-image" ng-if="post.post_type == 'pic'" >
              <div class="pinboard-priklreaction" ng-click="priklprev()">
                <i class="icon ion-ios7-lightbulb-outline"></i>
              </div>

              <div class="pinboard-cardimage" data-ng-style="{'background-image':'url({{$root.server}}/posts/images/thumbs/{{post.post_pic}})'}" ng-click="photoprev()">
                 <span class="wordbreak" ng-if="post.post_text != ''">{{post.post_text}}</span>
              </div>
          </div>      

          <!--BUTTONS-->
          <div class="pinboard-cardbutton item" style="border-radius:0;" ng-click="react()">
          Reageer
        </div>
       </div>
  </div>
</div>

<ion-infinite-scroll
     ng-if="itemsAvailable"
     icon="ion-loading-d"
     on-infinite="loadMore('group')"
     distance="30%">
</ion-infinite-scroll>


 
</ion-content>

</ion-view>
